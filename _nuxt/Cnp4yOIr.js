var x=Object.defineProperty;var m=(a,s,t)=>s in a?x(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var n=(a,s,t)=>m(a,typeof s!="symbol"?s+"":s,t);import{u as p}from"./DbffSx4d.js";import{e as g,f as w,g as y,o as u,c as f,_ as M,a as l,b as v}from"./Do6LjYGc.js";class d{constructor(s,t,i,e,o,h,r){n(this,"char");n(this,"initX");n(this,"initY");n(this,"x");n(this,"y");n(this,"alpha");n(this,"fontSize");n(this,"color","rgb(96, 165, 250)");n(this,"context");n(this,"angle",0);n(this,"speed",0);n(this,"anmationType","none");this.char=s,this.initX=t,this.initY=i,this.x=t,this.y=i,this.alpha=e,this.fontSize=o,this.color=h,this.context=r}draw(){this.context.fillStyle=this.color,this.context.globalAlpha=this.alpha,this.context.font=`${this.fontSize}px Arial`,this.context.fillText(this.char,this.x,this.y),this.context.textAlign="center"}update(){this.anmationType==="fadeout"?(this.fadeout(),this.alpha===0&&(this.none(),this.alpha=1,this.char=c.getRandomCharacter())):this.anmationType==="throw"?(this.throw(this.angle,this.speed),(this.x<9||this.x>this.context.canvas.width-this.fontSize||this.y<15||this.y>this.context.canvas.height-5)&&this.none()):this.anmationType==="backPosition"&&(this.throw(this.angle,this.speed),Math.abs(this.initX-this.x)<1&&Math.abs(this.initY-this.y)<1&&(this.none(),this.x=this.initX,this.y=this.initY))}none(){this.anmationType="none"}startBackPosition(){this.anmationType="backPosition";const s=this.initX-this.x,t=this.initY-this.y,i=Math.sqrt(s*s+t*t),e=Math.atan2(t,s)*(180/Math.PI),o=i*.1;this.angle=e,this.speed=o}startThrow(s,t){this.anmationType="throw",this.angle=s,this.speed=t}throw(s,t){const i=s*(Math.PI/180),e=Math.cos(i)*t,o=Math.sin(i)*t;this.x+=e,this.y+=o}fadeout(){this.alpha=Math.max(0,this.alpha-.001)}}class c{constructor(s,t){n(this,"context");n(this,"charList",[]);n(this,"textColour","black");n(this,"backgroundColour","transparent");n(this,"isBoom",!1);this.context=s,t?this.darkMode():this.lightMode();const i=Math.floor(this.context.canvas.width/20),e=Math.floor(this.context.canvas.height/20);for(let o=0;o<i;o++)for(let h=0;h<e;h++){const r=new d(c.getRandomCharacter(),o*20+9,h*20+15,1,20,this.textColour,this.context);this.charList.push(r)}this.context.canvas.addEventListener("mousedown",this.mousedown.bind(this)),this.context.canvas.addEventListener("touchstart",this.mousedown.bind(this)),this.context.canvas.addEventListener("mousemove",this.boom.bind(this)),this.context.canvas.addEventListener("touchmove",this.boom.bind(this)),this.context.canvas.addEventListener("mouseup",this.mouseup.bind(this)),this.context.canvas.addEventListener("touchend",this.mouseup.bind(this))}static getRandomCharacter(){const s="0123456789BoominKim",t=Math.floor(Math.random()*s.length);return s[t]}getXY(s){let t=0,i=0;const e=this.context.canvas.getBoundingClientRect();return s instanceof MouseEvent?(t=s.clientX-e.left,i=s.clientY-e.top):s instanceof TouchEvent&&(t=s.touches[0].clientX-e.left,i=s.touches[0].clientY-e.top),{x:t,y:i}}darkMode(){this.textColour="rgb(156, 163, 175)"}lightMode(){this.textColour="rgb(107, 114, 128)"}mousedown(){this.isBoom=!0}mouseup(){this.isBoom=!1,this.backPosition()}backPosition(){this.charList.forEach(s=>{s.startBackPosition()})}boom(s){if(!this.isBoom)return;const{x:t,y:i}=this.getXY(s);this.charList.forEach(e=>{const o=t-e.x,h=i-e.y;Math.sqrt(o*o+h*h)<50&&(e.anmationType="throw",e.startThrow(Math.random()*360,Math.random()*5))})}draw(){this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.charList.forEach(s=>{s.draw(),s.update(),Math.random()>.995&&(s.anmationType="fadeout")})}clear(){this.context.fillStyle=this.backgroundColour,this.context.fillRect(0,0,this.context.canvas.width,this.context.canvas.height),this.charList=[]}resize(){const s=Math.floor(this.context.canvas.width/20),t=Math.floor(this.context.canvas.height/20);this.charList=[];for(let i=0;i<s;i++)for(let e=0;e<t;e++){const o=new d(c.getRandomCharacter(),i*20+9,e*20+15,1,20,this.textColour,this.context);this.charList.push(o)}}}const b={id:"canvas",class:"w-full",style:{height:"calc(100vh - 100px)"}},_=g({__name:"MatrixCanvas",setup(a){const s=p();let t=null;w(()=>{const e=document.getElementById("canvas"),o=e.getContext("2d"),h=1;e.width=e.clientWidth*h,e.height=e.clientHeight*h,o.scale(h,h),t=new c(o,s.value==="dark"),i(),window.addEventListener("resize",()=>{t==null||t.clear(),setTimeout(()=>{e.width=e.clientWidth*h,e.height=e.clientHeight*h,o.scale(h,h),t==null||t.resize()},1e3)})}),y(()=>s.value,()=>{s.value==="dark"?t==null||t.darkMode():t==null||t.lightMode(),t==null||t.clear(),t==null||t.resize()});function i(){t&&(t.draw(),requestAnimationFrame(i))}return(e,o)=>(u(),f("canvas",b))}}),k={},L={class:"w-full my-5 relative"};function E(a,s){const t=_;return u(),f("div",null,[l("div",L,[v(t),s[0]||(s[0]=l("div",{class:"absolute blur-box w-fit",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},[l("h1",{class:"text-4xl font-bold text-center text-gray-800 dark:text-gray-200"}," Boomin Kim ")],-1))])])}const Y=M(k,[["render",E],["__scopeId","data-v-5c3920d3"]]);export{Y as default};
