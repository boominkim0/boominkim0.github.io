export class Hero{constructor(t){this.stageWitdh=t,this.size=100,this.halfSize=this.size/2,this.x=t+this.size,this.y=0,this.speed=2*Math.random()+1}draw(t,i,e){this.animate(t,e)}getY2(t,i){let e=this.getPointOnQuad(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3,0),s=e.x;for(let h=1;h<200;h++){const a=h/200;if(e=this.getPointOnQuad(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3,a),t>=s&&t<=e.x)return e;s=e.x}return e}getQuadValue(t,i,e,s){return(1-s)*(1-s)*t+2*(1-s)*s*i+s*s*e}getPointOnQuad(t,i,e,s,h,a,n){return this.quadTangent(t,e,h,n),this.quadTangent(i,s,a,n),{x:this.getQuadValue(t,e,h,n),y:this.getQuadValue(i,s,a,n)}}quadTangent(t,i,e,s){return 2*(1-s)*(i-t)+2*(e-i)*s}getY(t,i){for(let e=1;e<i.length;e++)if(t>=i[e].x1&&t<=i[e].x3)return this.getY2(t,i[e]);return{y:0,rotation:0}}animate(t,i){this.x-=this.speed,this.x<-this.size&&(this.x=this.stageWitdh+this.size);const e=this.getY(this.x,i);this.y=e.y-this.halfSize,t.beginPath(),t.arc(this.x,this.y,50,0,2*Math.PI),t.fillStyle="#00BCD4",t.fill(),t.closePath()}}