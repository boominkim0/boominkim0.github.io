import{HeroController}from"./hero_controller";import{Hill}from"./hill";class App{constructor(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.hills=[new Hill("#4D7798",.2,12),new Hill("#6598B8",.5,8),new Hill("#557FAA",1.4,6)],this.heroController=new HeroController,window.addEventListener("resize",this.resize.bind(this),!1),this.resize(),requestAnimationFrame(this.animate.bind(this))}resize(){this.stageWidth=window.innerWidth,this.stageHeight=window.innerHeight,this.canvas.width=2*this.stageWidth,this.canvas.height=2*this.stageHeight,this.ctx.scale(2,2);for(let t=0;t<this.hills.length;t++)this.hills[t].resize(this.stageWidth,this.stageHeight);this.heroController.resize(this.stageWidth,this.stageHeight)}animate(t){let i;requestAnimationFrame(this.animate.bind(this)),this.ctx.clearRect(0,0,this.stageWidth,this.stageHeight);for(let t=0;t<this.hills.length;t++)i=this.hills[t].draw(this.ctx);this.heroController.draw(this.ctx,t,i)}jump(){this.heroController.jump()}}let app;function jump(){app&&app.jump()}window.onload=()=>{app=new App},window.addEventListener("click",jump),window.addEventListener("pointerdown",jump);